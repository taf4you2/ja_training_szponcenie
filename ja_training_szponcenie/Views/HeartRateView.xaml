<UserControl x:Class="ja_training_szponcenie.Views.HeartRateView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="1080" d:DesignWidth="1920"
             Background="{StaticResource BackgroundColor}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Header -->
            <RowDefinition Height="*"/> <!-- Main content -->
        </Grid.RowDefinitions>

        <!-- ==================== HEADER ==================== -->
        <Border Grid.Row="0" Background="{StaticResource SurfaceColor}" Padding="16,12">
            <Border.Effect>
                <DropShadowEffect Color="#000000" Opacity="0.1" BlurRadius="8" ShadowDepth="2"/>
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Lewa strona headera -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button x:Name="BackButton" Style="{StaticResource PrimaryButtonStyle}" Width="40" Height="40" Margin="0,0,16,0">
                        <TextBlock Text="â†" FontSize="20"/>
                    </Button>
                    <TextBlock Text="TÄ™tno caÅ‚odzienne" FontSize="24" FontWeight="Bold" VerticalAlignment="Center" Foreground="{StaticResource TextPrimaryColor}"/>
                </StackPanel>

                <!-- Prawa strona headera -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <!-- Przycisk ustawienia stref -->
                    <Button x:Name="ZoneSettingsButton" Style="{StaticResource PrimaryButtonStyle}" Background="Transparent" Padding="12,8" Margin="0,0,8,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="âš™ï¸" FontSize="14" Margin="0,0,6,0"/>
                            <TextBlock Text="Ustawienia stref" FontSize="14"/>
                        </StackPanel>
                    </Button>

                    <!-- Przycisk eksportu -->
                    <Button x:Name="ExportButton" Style="{StaticResource PrimaryButtonStyle}" Background="Transparent"
                            BorderBrush="{StaticResource PrimaryColor}" BorderThickness="2" Padding="12,8" Margin="0,0,8,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="ðŸ“¤" FontSize="14" Margin="0,0,6,0"/>
                            <TextBlock Text="Eksportuj CSV" FontSize="14" Foreground="{StaticResource PrimaryColor}"/>
                        </StackPanel>
                    </Button>

                    <!-- Przycisk porÃ³wnaj okresy -->
                    <Button x:Name="ComparePeriodsButton" Style="{StaticResource PrimaryButtonStyle}" Background="Transparent" Padding="12,8">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="âš–ï¸" FontSize="14" Margin="0,0,6,0"/>
                            <TextBlock Text="PorÃ³wnaj okresy" FontSize="14"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ==================== MAIN CONTENT ==================== -->
        <ScrollViewer Grid.Row="1" Style="{StaticResource CustomScrollViewerStyle}">
            <StackPanel Margin="32,24" MaxWidth="1600" HorizontalAlignment="Center">

                <!-- ==================== ZAKÅADKI ==================== -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                    <Button x:Name="DayTab" Content="DzieÅ„" Style="{StaticResource PrimaryButtonStyle}"
                            Padding="24,12" Margin="0,0,8,0" BorderThickness="0,0,0,3"
                            BorderBrush="{StaticResource HeartRateBrush}" FontSize="16" FontWeight="SemiBold"/>
                    <Button x:Name="TrendsTab" Content="Trendy" Style="{StaticResource PrimaryButtonStyle}"
                            Background="Transparent" Padding="24,12" BorderThickness="0,0,0,3"
                            BorderBrush="Transparent" FontSize="16" Foreground="{StaticResource TextPrimaryColor}"/>
                </StackPanel>

                <!-- ==================== ZAKÅADKA: DZIEÅƒ ==================== -->
                <StackPanel x:Name="DayTabContent">

                    <!-- Selektor daty -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,24">
                        <Button x:Name="PreviousDayButton" Style="{StaticResource PrimaryButtonStyle}" Width="36" Height="36" Margin="0,0,12,0">
                            <TextBlock Text="â—€" FontSize="14"/>
                        </Button>
                        <TextBlock Text="14 listopada 2025" FontSize="20" FontWeight="SemiBold" VerticalAlignment="Center"/>
                        <Button x:Name="NextDayButton" Style="{StaticResource PrimaryButtonStyle}" Width="36" Height="36" Margin="12,0,0,0">
                            <TextBlock Text="â–¶" FontSize="14"/>
                        </Button>
                    </StackPanel>

                    <!-- ==================== SEKCJA 1: GÅ‚Ã³wny Wykres 24-godzinny ==================== -->
                    <StackPanel Margin="0,0,0,24">
                        <TextBlock Text="â¤ï¸ TÄ™tno przez 24 godziny" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

                        <!-- Placeholder dla wykresu 24h -->
                        <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8" Background="White">
                            <Border.Effect>
                                <DropShadowEffect Color="#000000" Opacity="0.05" BlurRadius="8" ShadowDepth="2"/>
                            </Border.Effect>
                            <Grid Height="400">
                                <!-- TÅ‚o stref kolorowych -->
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="20*"/> <!-- Maksymalny -->
                                        <RowDefinition Height="20*"/> <!-- Szczytowy -->
                                        <RowDefinition Height="20*"/> <!-- Cardio -->
                                        <RowDefinition Height="20*"/> <!-- Fat Burn -->
                                        <RowDefinition Height="20*"/> <!-- Odpoczynek -->
                                    </Grid.RowDefinitions>

                                    <Border Grid.Row="0" Background="#E57373" Opacity="0.1"/>
                                    <Border Grid.Row="1" Background="#FF8A65" Opacity="0.1"/>
                                    <Border Grid.Row="2" Background="#FFD54F" Opacity="0.1"/>
                                    <Border Grid.Row="3" Background="#81C784" Opacity="0.1"/>
                                    <Border Grid.Row="4" Background="#64B5F6" Opacity="0.1"/>
                                </Grid>

                                <!-- Placeholder tekst -->
                                <TextBlock Text="[WYKRES LINIOWY 24H - TÄ˜TNO]" FontSize="24" FontStyle="Italic"
                                           Foreground="{StaticResource TextSecondaryColor}"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>

                                <!-- Legenda stref -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="16">
                                    <Border Background="White" CornerRadius="4" Padding="12,8" Opacity="0.95">
                                        <Border.Effect>
                                            <DropShadowEffect Color="#000000" Opacity="0.1" BlurRadius="4" ShadowDepth="1"/>
                                        </Border.Effect>
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                <Border Background="#E57373" Width="16" Height="16" CornerRadius="2" Margin="0,0,8,0"/>
                                                <TextBlock Text="Maksymalny (170+ bpm)" FontSize="11"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                <Border Background="#FF8A65" Width="16" Height="16" CornerRadius="2" Margin="0,0,8,0"/>
                                                <TextBlock Text="Szczytowy (145-170 bpm)" FontSize="11"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                <Border Background="#FFD54F" Width="16" Height="16" CornerRadius="2" Margin="0,0,8,0"/>
                                                <TextBlock Text="Cardio (120-145 bpm)" FontSize="11"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                                <Border Background="#81C784" Width="16" Height="16" CornerRadius="2" Margin="0,0,8,0"/>
                                                <TextBlock Text="Fat Burn (95-120 bpm)" FontSize="11"/>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <Border Background="#64B5F6" Width="16" Height="16" CornerRadius="2" Margin="0,0,8,0"/>
                                                <TextBlock Text="Odpoczynek (&lt;95 bpm)" FontSize="11"/>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </StackPanel>

                    <!-- ==================== SEKCJA 2 & 3: Metryki i Segmenty ==================== -->
                    <Grid Margin="0,0,0,24">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- SEKCJA 2: Kluczowe Metryki Dnia -->
                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="ðŸ“Š Kluczowe metryki" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

                            <!-- Kafelek RHR -->
                            <Border CornerRadius="8" Padding="20" Margin="0,0,0,12">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#FFEBEE" Offset="0"/>
                                        <GradientStop Color="#FFCDD2" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border.Effect>
                                    <DropShadowEffect Color="#000000" Opacity="0.08" BlurRadius="8" ShadowDepth="2"/>
                                </Border.Effect>

                                <Grid>
                                    <StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                            <TextBlock Text="â¤ï¸" FontSize="20" Margin="0,0,8,0"/>
                                            <TextBlock Text="RHR (TÄ™tno spoczynkowe)" FontSize="14" FontWeight="SemiBold"/>
                                        </StackPanel>
                                        <TextBlock Text="58 bpm" FontSize="42" FontWeight="Bold" Foreground="{StaticResource HeartRateBrush}"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                            <TextBlock Text="â–¼ -2 bpm" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource SuccessColor}" Margin="0,0,12,0"/>
                                            <TextBlock Text="vs Å›rednia 7 dni (60 bpm)" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        </StackPanel>
                                    </StackPanel>

                                    <!-- Mini wykres sparkline -->
                                    <Border Width="100" Height="30" Background="White" Opacity="0.5" CornerRadius="4"
                                            HorizontalAlignment="Right" VerticalAlignment="Bottom">
                                        <TextBlock Text="[sparkline]" FontSize="10" FontStyle="Italic" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </Grid>
                            </Border>

                            <!-- Kafelek Åšrednie tÄ™tno -->
                            <Border Background="#E3F2FD" CornerRadius="8" Padding="20" Margin="0,0,0,12">
                                <Border.Effect>
                                    <DropShadowEffect Color="#000000" Opacity="0.08" BlurRadius="8" ShadowDepth="2"/>
                                </Border.Effect>

                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="ðŸ“ˆ" FontSize="20" Margin="0,0,8,0"/>
                                        <TextBlock Text="Åšrednie tÄ™tno dzienne" FontSize="14" FontWeight="SemiBold"/>
                                    </StackPanel>
                                    <TextBlock Text="72 bpm" FontSize="32" FontWeight="Bold" Foreground="{StaticResource PrimaryColor}"/>
                                    <TextBlock Text="W zakresie normalnym" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" Margin="0,4,0,0"/>
                                </StackPanel>
                            </Border>

                            <!-- Kafelek Maksymalne tÄ™tno -->
                            <Border Background="#FFF9C4" CornerRadius="8" Padding="20" Margin="0,0,0,12">
                                <Border.Effect>
                                    <DropShadowEffect Color="#000000" Opacity="0.08" BlurRadius="8" ShadowDepth="2"/>
                                </Border.Effect>

                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="â¬†ï¸" FontSize="20" Margin="0,0,8,0"/>
                                        <TextBlock Text="Maksymalne tÄ™tno" FontSize="14" FontWeight="SemiBold"/>
                                    </StackPanel>
                                    <TextBlock Text="165 bpm" FontSize="32" FontWeight="Bold" Foreground="{StaticResource WarningColor}"/>
                                    <TextBlock Text="WystÄ…piÅ‚o o 14:35 podczas treningu" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" Margin="0,4,0,0"/>
                                </StackPanel>
                            </Border>

                            <!-- Kafelek HRV -->
                            <Border CornerRadius="8" Padding="20">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#E8F5E9" Offset="0"/>
                                        <GradientStop Color="#C8E6C9" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border.Effect>
                                    <DropShadowEffect Color="#000000" Opacity="0.08" BlurRadius="8" ShadowDepth="2"/>
                                </Border.Effect>

                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="ðŸ’š" FontSize="20" Margin="0,0,8,0"/>
                                        <TextBlock Text="HRV (ZmiennoÅ›Ä‡ rytmu)" FontSize="14" FontWeight="SemiBold"/>
                                        <TextBlock Text="â“˜" FontSize="12" Foreground="{StaticResource PrimaryColor}" Margin="8,0,0,0" ToolTip="Heart Rate Variability - wyÅ¼sze wartoÅ›ci oznaczajÄ… lepszÄ… regeneracjÄ™"/>
                                    </StackPanel>
                                    <TextBlock Text="45 ms" FontSize="32" FontWeight="Bold" Foreground="{StaticResource SuccessColor}"/>
                                    <Border Background="{StaticResource SuccessColor}" CornerRadius="4" Padding="8,4" HorizontalAlignment="Left" Margin="0,8,0,0">
                                        <TextBlock Text="âœ… Dobry poziom" FontSize="11" Foreground="White" FontWeight="SemiBold"/>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <!-- SEKCJA 3: Analiza SegmentÃ³w -->
                        <StackPanel Grid.Column="1" Margin="12,0,0,0">
                            <TextBlock Text="ðŸ• Segmenty dnia" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

                            <!-- Segment Sen -->
                            <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="2" CornerRadius="8" Padding="16" Margin="0,0,0,12" Background="White">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="ðŸŒ™" FontSize="24" Margin="0,0,12,0"/>
                                        <StackPanel>
                                            <TextBlock Text="Sen" FontSize="16" FontWeight="Bold"/>
                                            <TextBlock Text="23:00 - 7:00 (8h)" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        </StackPanel>
                                    </StackPanel>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Åšrednie tÄ™tno" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                            <TextBlock Text="56 bpm" FontSize="20" FontWeight="Bold" Foreground="#7B1FA2"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="NajniÅ¼sze" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                            <TextBlock Text="48 bpm" FontSize="20" FontWeight="Bold" Foreground="#7B1FA2"/>
                                        </StackPanel>
                                    </Grid>

                                    <!-- Mini wykres -->
                                    <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="4"
                                            Height="60" Background="#F5F5F5" Margin="0,12,0,0">
                                        <TextBlock Text="[mini wykres tÄ™tno w czasie snu]" FontSize="10" FontStyle="Italic"
                                                   HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{StaticResource TextSecondaryColor}"/>
                                    </Border>
                                </StackPanel>
                            </Border>

                            <!-- Segment DzieÅ„ -->
                            <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="2" CornerRadius="8" Padding="16" Margin="0,0,0,12" Background="White">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="â˜€ï¸" FontSize="24" Margin="0,0,12,0"/>
                                        <StackPanel>
                                            <TextBlock Text="AktywnoÅ›Ä‡ dzienna" FontSize="16" FontWeight="Bold"/>
                                            <TextBlock Text="7:00 - 22:00 (15h)" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        </StackPanel>
                                    </StackPanel>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="Åšrednie tÄ™tno" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                            <TextBlock Text="78 bpm" FontSize="20" FontWeight="Bold" Foreground="{StaticResource PrimaryColor}"/>
                                        </StackPanel>

                                        <StackPanel Grid.Column="1">
                                            <TextBlock Text="NajwyÅ¼sze" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                            <TextBlock Text="112 bpm" FontSize="20" FontWeight="Bold" Foreground="{StaticResource PrimaryColor}"/>
                                        </StackPanel>
                                    </Grid>

                                    <!-- Mini wykres -->
                                    <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="4"
                                            Height="60" Background="#F5F5F5" Margin="0,12,0,0">
                                        <TextBlock Text="[mini wykres tÄ™tno w ciÄ…gu dnia]" FontSize="10" FontStyle="Italic"
                                                   HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{StaticResource TextSecondaryColor}"/>
                                    </Border>
                                </StackPanel>
                            </Border>

                            <!-- Segment Trening -->
                            <Border BorderBrush="{StaticResource WarningColor}" BorderThickness="2" CornerRadius="8" Padding="16" Background="White">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                        <TextBlock Text="ðŸƒ" FontSize="24" Margin="0,0,12,0"/>
                                        <StackPanel>
                                            <TextBlock Text="Treningi" FontSize="16" FontWeight="Bold"/>
                                            <TextBlock Text="2 sesje treningowe" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        </StackPanel>
                                    </StackPanel>

                                    <!-- Trening 1 -->
                                    <Border Background="#FFF9C4" CornerRadius="4" Padding="12" Margin="0,0,0,8">
                                        <StackPanel>
                                            <Grid>
                                                <TextBlock Text="14:15 - 15:30 (1h 15min)" FontSize="12" FontWeight="SemiBold"/>
                                                <TextBlock Text="Bieg" FontSize="12" HorizontalAlignment="Right" Foreground="{StaticResource WarningColor}"/>
                                            </Grid>
                                            <Grid Margin="0,8,0,0">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="Åšrednie: " FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                                    <TextBlock Text="142 bpm" FontSize="11" FontWeight="Bold"/>
                                                </StackPanel>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock Text="Max: " FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                                    <TextBlock Text="165 bpm" FontSize="11" FontWeight="Bold" Foreground="#F44336"/>
                                                </StackPanel>
                                            </Grid>
                                        </StackPanel>
                                    </Border>

                                    <!-- Trening 2 -->
                                    <Border Background="#E3F2FD" CornerRadius="4" Padding="12">
                                        <StackPanel>
                                            <Grid>
                                                <TextBlock Text="08:00 - 08:45 (45min)" FontSize="12" FontWeight="SemiBold"/>
                                                <TextBlock Text="Rower" FontSize="12" HorizontalAlignment="Right" Foreground="{StaticResource PrimaryColor}"/>
                                            </Grid>
                                            <Grid Margin="0,8,0,0">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="Åšrednie: " FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                                    <TextBlock Text="128 bpm" FontSize="11" FontWeight="Bold"/>
                                                </StackPanel>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <TextBlock Text="Max: " FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                                    <TextBlock Text="148 bpm" FontSize="11" FontWeight="Bold"/>
                                                </StackPanel>
                                            </Grid>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Grid>

                    <!-- ==================== SEKCJA 4: Czas w Strefach TÄ™tna ==================== -->
                    <StackPanel Margin="0,0,0,24">
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="ðŸŽ¯ Strefy tÄ™tna" FontSize="20" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            <Button Content="â“˜ Informacje o strefach" Style="{StaticResource PrimaryButtonStyle}"
                                    Background="Transparent" Padding="8" HorizontalAlignment="Right"/>
                        </Grid>

                        <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8" Background="White" Padding="24">
                            <StackPanel>
                                <!-- Maksymalny -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="180"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="120"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="Maksymalny" FontSize="14" FontWeight="SemiBold"/>
                                        <TextBlock Text="170+ bpm" FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                    </StackPanel>

                                    <Border Grid.Column="1" Background="#FFEBEE" Height="32" CornerRadius="16" Margin="12,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="8*"/>
                                                <ColumnDefinition Width="92*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Background="#E57373" CornerRadius="16,0,0,16"/>
                                        </Grid>
                                    </Border>

                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="12 min" FontSize="14" FontWeight="Bold" HorizontalAlignment="Right"/>
                                        <TextBlock Text="(8%)" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" HorizontalAlignment="Right"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Szczytowy -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="180"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="120"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="Szczytowy" FontSize="14" FontWeight="SemiBold"/>
                                        <TextBlock Text="145-170 bpm" FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                    </StackPanel>

                                    <Border Grid.Column="1" Background="#FFE0B2" Height="32" CornerRadius="16" Margin="12,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="22*"/>
                                                <ColumnDefinition Width="78*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Background="#FF8A65" CornerRadius="16,0,0,16"/>
                                        </Grid>
                                    </Border>

                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="42 min" FontSize="14" FontWeight="Bold" HorizontalAlignment="Right"/>
                                        <TextBlock Text="(22%)" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" HorizontalAlignment="Right"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Cardio -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="180"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="120"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="Cardio" FontSize="14" FontWeight="SemiBold"/>
                                        <TextBlock Text="120-145 bpm" FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                    </StackPanel>

                                    <Border Grid.Column="1" Background="#FFF9C4" Height="32" CornerRadius="16" Margin="12,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="38*"/>
                                                <ColumnDefinition Width="62*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Background="#FFD54F" CornerRadius="16,0,0,16"/>
                                        </Grid>
                                    </Border>

                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="1h 12min" FontSize="14" FontWeight="Bold" HorizontalAlignment="Right"/>
                                        <TextBlock Text="(38%)" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" HorizontalAlignment="Right"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Fat Burn -->
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="180"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="120"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="Fat Burn" FontSize="14" FontWeight="SemiBold"/>
                                        <TextBlock Text="95-120 bpm" FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                    </StackPanel>

                                    <Border Grid.Column="1" Background="#C8E6C9" Height="32" CornerRadius="16" Margin="12,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="18*"/>
                                                <ColumnDefinition Width="82*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Background="#81C784" CornerRadius="16,0,0,16"/>
                                        </Grid>
                                    </Border>

                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="34 min" FontSize="14" FontWeight="Bold" HorizontalAlignment="Right"/>
                                        <TextBlock Text="(18%)" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" HorizontalAlignment="Right"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Odpoczynek -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="180"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="120"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0">
                                        <TextBlock Text="Odpoczynek" FontSize="14" FontWeight="SemiBold"/>
                                        <TextBlock Text="&lt;95 bpm" FontSize="11" Foreground="{StaticResource TextSecondaryColor}"/>
                                    </StackPanel>

                                    <Border Grid.Column="1" Background="#BBDEFB" Height="32" CornerRadius="16" Margin="12,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="14*"/>
                                                <ColumnDefinition Width="86*"/>
                                            </Grid.ColumnDefinitions>
                                            <Border Grid.Column="0" Background="#64B5F6" CornerRadius="16,0,0,16"/>
                                        </Grid>
                                    </Border>

                                    <StackPanel Grid.Column="2">
                                        <TextBlock Text="27 min" FontSize="14" FontWeight="Bold" HorizontalAlignment="Right"/>
                                        <TextBlock Text="(14%)" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" HorizontalAlignment="Right"/>
                                    </StackPanel>
                                </Grid>

                                <!-- Podsumowanie -->
                                <Border Background="#E8F5E9" CornerRadius="8" Padding="16" Margin="0,24,0,0">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <TextBlock Text="ðŸ’¡" FontSize="16" Margin="0,0,12,0"/>
                                        <TextBlock Text="Celuj w 30-60 min w strefie Cardio dziennie" FontSize="14" Foreground="{StaticResource TextSecondaryColor}"/>
                                        <TextBlock Text="âœ… Cel osiÄ…gniÄ™ty!" FontSize="14" FontWeight="Bold" Foreground="{StaticResource SuccessColor}" Margin="12,0,0,0"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                </StackPanel>

                <!-- ==================== ZAKÅADKA: TRENDY ==================== -->
                <StackPanel x:Name="TrendsTabContent" Visibility="Collapsed">

                    <!-- ==================== SEKCJA 1: Trendy DÅ‚ugoterminowe ==================== -->
                    <StackPanel Margin="0,0,0,24">
                        <TextBlock Text="ðŸ“ˆ Trendy dÅ‚ugoterminowe" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

                        <!-- Toolbar -->
                        <Grid Margin="0,0,0,16">
                            <StackPanel Orientation="Horizontal">
                                <Button Content="7 dni" Style="{StaticResource PrimaryButtonStyle}"
                                        Background="Transparent" Padding="12,8" Margin="0,0,4,0"/>
                                <Button Content="14 dni" Style="{StaticResource PrimaryButtonStyle}"
                                        Background="Transparent" Padding="12,8" Margin="0,0,4,0"/>
                                <Button Content="30 dni" Style="{StaticResource PrimaryButtonStyle}"
                                        Padding="12,8" Margin="0,0,4,0"/>
                                <Button Content="90 dni" Style="{StaticResource PrimaryButtonStyle}"
                                        Background="Transparent" Padding="12,8"/>
                            </StackPanel>

                            <!-- Legenda -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <CheckBox Content="RHR" IsChecked="True" Margin="0,0,16,0" Foreground="#F44336"/>
                                <CheckBox Content="Åšrednie tÄ™tno" IsChecked="True" Margin="0,0,16,0" Foreground="#2196F3"/>
                                <CheckBox Content="HRV (prawa oÅ›)" Margin="0,0,0,0" Foreground="#4CAF50"/>
                            </StackPanel>
                        </Grid>

                        <!-- Placeholder dla wykresu -->
                        <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8"
                                Height="400" Background="White">
                            <TextBlock Text="[WYKRES LINIOWY WIELOSERYJNY - RHR / ÅšREDNIE / HRV]" FontSize="24" FontStyle="Italic"
                                       Foreground="{StaticResource TextSecondaryColor}"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </StackPanel>

                    <!-- ==================== SEKCJA 2: Analiza Stref w Czasie ==================== -->
                    <StackPanel Margin="0,0,0,24">
                        <TextBlock Text="ðŸŽ¯ Czas w strefach przez okres" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Wykres stacked bar -->
                            <Border Grid.Column="0" BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8"
                                    Height="350" Background="White" Margin="0,0,16,0">
                                <TextBlock Text="[WYKRES SKUMULOWANY SÅUPKOWY - STREFY W CZASIE]" FontSize="18" FontStyle="Italic"
                                           Foreground="{StaticResource TextSecondaryColor}"
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>

                            <!-- Panel statystyk -->
                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Statystyki (30 dni)" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>

                                <Border Background="#FFEBEE" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                                    <StackPanel>
                                        <TextBlock Text="Åšredni czas aktywny" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        <TextBlock Text="2h 45min/dzieÅ„" FontSize="20" FontWeight="Bold" Foreground="#F44336" Margin="0,4,0,0"/>
                                    </StackPanel>
                                </Border>

                                <Border Background="#E3F2FD" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                                    <StackPanel>
                                        <TextBlock Text="Najaktywniejszy dzieÅ„" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        <TextBlock Text="Åšroda" FontSize="20" FontWeight="Bold" Foreground="{StaticResource PrimaryColor}" Margin="0,4,0,0"/>
                                        <TextBlock Text="Åšrednio 3h 20min" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" Margin="0,4,0,0"/>
                                    </StackPanel>
                                </Border>

                                <Border Background="#FFF9C4" CornerRadius="8" Padding="16" Margin="0,0,0,12">
                                    <StackPanel>
                                        <TextBlock Text="Czas w strefie Cardio" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        <TextBlock Text="42 min/dzieÅ„" FontSize="20" FontWeight="Bold" Foreground="{StaticResource WarningColor}" Margin="0,4,0,0"/>
                                        <TextBlock Text="âœ… PowyÅ¼ej celu (30 min)" FontSize="11" Foreground="{StaticResource SuccessColor}" Margin="0,4,0,0"/>
                                    </StackPanel>
                                </Border>

                                <Border Background="#E8F5E9" CornerRadius="8" Padding="16">
                                    <StackPanel>
                                        <TextBlock Text="Trend tygodniowy" FontSize="12" Foreground="{StaticResource TextSecondaryColor}"/>
                                        <StackPanel Orientation="Horizontal" Margin="0,4,0,0">
                                            <TextBlock Text="â–²" FontSize="20" Foreground="{StaticResource SuccessColor}" Margin="0,0,8,0"/>
                                            <TextBlock Text="+15 min" FontSize="20" FontWeight="Bold" Foreground="{StaticResource SuccessColor}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </StackPanel>

                    <!-- ==================== SEKCJA 3: Wzorce i Korelacje ==================== -->
                    <StackPanel Margin="0,0,0,24">
                        <TextBlock Text="ðŸ” Wzorce i korelacje" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,16"/>

                        <!-- Wykres cieplny tygodniowy -->
                        <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8" Background="White" Padding="16" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="Åšrednie RHR wedÅ‚ug dni tygodnia (ostatnie 4 tygodnie)" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>

                                <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8"
                                        Height="200" Background="#FAFAFA">
                                    <TextBlock Text="[WYKRES CIEPLNY 7x4 - RHR DLA DNI TYGODNIA]" FontSize="16" FontStyle="Italic"
                                               Foreground="{StaticResource TextSecondaryColor}"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>

                                <!-- Skala kolorÃ³w -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,12,0,0">
                                    <TextBlock Text="Niskie RHR" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" Margin="0,0,8,0"/>
                                    <Border Background="#64B5F6" Width="30" Height="16" Margin="2,0"/>
                                    <Border Background="#81C784" Width="30" Height="16" Margin="2,0"/>
                                    <Border Background="#FFF176" Width="30" Height="16" Margin="2,0"/>
                                    <Border Background="#FF8A65" Width="30" Height="16" Margin="2,0"/>
                                    <Border Background="#E57373" Width="30" Height="16" Margin="2,0"/>
                                    <TextBlock Text="Wysokie RHR" FontSize="11" Foreground="{StaticResource TextSecondaryColor}" Margin="8,0,0,0"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- ModuÅ‚ korelacji -->
                        <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8" Background="White" Padding="16" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="Korelacje HRV z innymi metrykami" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="300"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Wykres scatter plot -->
                                    <Border Grid.Column="0" BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8"
                                            Height="250" Background="#FAFAFA" Margin="0,0,16,0">
                                        <TextBlock Text="[WYKRES PUNKTOWY - KORELACJE HRV]" FontSize="16" FontStyle="Italic"
                                                   Foreground="{StaticResource TextSecondaryColor}"
                                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>

                                    <!-- WspÃ³Å‚czynniki -->
                                    <StackPanel Grid.Column="1">
                                        <Border Background="#E8F5E9" CornerRadius="4" Padding="12" Margin="0,0,0,8">
                                            <Grid>
                                                <StackPanel>
                                                    <TextBlock Text="Sen â†” HRV" FontSize="14" FontWeight="SemiBold"/>
                                                    <TextBlock Text="Silna pozytywna" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" Margin="0,4,0,0"/>
                                                </StackPanel>
                                                <TextBlock Text="+0.72" FontSize="24" FontWeight="Bold" Foreground="{StaticResource SuccessColor}" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>

                                        <Border Background="#FFEBEE" CornerRadius="4" Padding="12" Margin="0,0,0,8">
                                            <Grid>
                                                <StackPanel>
                                                    <TextBlock Text="Stres â†” HRV" FontSize="14" FontWeight="SemiBold"/>
                                                    <TextBlock Text="Silna negatywna" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" Margin="0,4,0,0"/>
                                                </StackPanel>
                                                <TextBlock Text="-0.68" FontSize="24" FontWeight="Bold" Foreground="#F44336" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>

                                        <Border Background="#E3F2FD" CornerRadius="4" Padding="12">
                                            <Grid>
                                                <StackPanel>
                                                    <TextBlock Text="Trening â†” HRV" FontSize="14" FontWeight="SemiBold"/>
                                                    <TextBlock Text="Umiarkowana negatywna" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" Margin="0,4,0,0"/>
                                                </StackPanel>
                                                <TextBlock Text="-0.45" FontSize="24" FontWeight="Bold" Foreground="{StaticResource PrimaryColor}" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Wykres wzorcÃ³w godzinowych -->
                        <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8" Background="White" Padding="16" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="Åšrednie tÄ™tno wedÅ‚ug godziny dnia" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>

                                <Border BorderBrush="{StaticResource DividerColor}" BorderThickness="1" CornerRadius="8"
                                        Height="250" Background="#FAFAFA">
                                    <TextBlock Text="[WYKRES SÅUPKOWY - ÅšREDNIE TÄ˜TNO DLA KAÅ»DEJ GODZINY]" FontSize="16" FontStyle="Italic"
                                               Foreground="{StaticResource TextSecondaryColor}"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </StackPanel>
                        </Border>

                        <!-- Insights tekstowe -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="#E8F5E9" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="ðŸ’¡" FontSize="18" Margin="0,0,8,0"/>
                                        <TextBlock Text="RHR najniÅ¼sze w poniedziaÅ‚ki" FontSize="14" FontWeight="SemiBold"/>
                                    </StackPanel>
                                    <TextBlock Text="Åšrednio 56 bpm vs 59 bpm w pozostaÅ‚e dni" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" TextWrapping="Wrap"/>
                                </StackPanel>
                            </Border>

                            <Border Grid.Column="1" Background="#FFF9C4" CornerRadius="8" Padding="16" Margin="8,0,8,0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="âš ï¸" FontSize="18" Margin="0,0,8,0"/>
                                        <TextBlock Text="HRV spada po intensywnych treningach" FontSize="14" FontWeight="SemiBold"/>
                                    </StackPanel>
                                    <TextBlock Text="Spadek Å›rednio o 12ms w ciÄ…gu 24h po treningu" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" TextWrapping="Wrap"/>
                                </StackPanel>
                            </Border>

                            <Border Grid.Column="2" Background="#E3F2FD" CornerRadius="8" Padding="16" Margin="8,0,0,0">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <TextBlock Text="ðŸ“ˆ" FontSize="18" Margin="0,0,8,0"/>
                                        <TextBlock Text="Åšrednie tÄ™tno wzrosÅ‚o" FontSize="14" FontWeight="SemiBold"/>
                                    </StackPanel>
                                    <TextBlock Text="+3 bpm w tym miesiÄ…cu (moÅ¼e wskazywaÄ‡ na przemÄ™czenie)" FontSize="12" Foreground="{StaticResource TextSecondaryColor}" TextWrapping="Wrap"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </StackPanel>

                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
